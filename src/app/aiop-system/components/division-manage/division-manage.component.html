<div class="division-manage hw-horizontal-layout">
  <ng-container *ngIf="showDialog">
    <howell-confirm-dialog (dialogMsgEvent)="dialogMsgEvent($event)">
    </howell-confirm-dialog>
  </ng-container>
  <!-- left -->
  <div class="horizontal-left">
    <div class="hw-simple-title">区划列表</div>
    <div class="hw-normal-btn-group">
      <button
        class="hw-green-btn"
        (click)="addBtnClick()"
        [disabled]="!enableAddBtn"
      >
        <i class="howell-icon-plus"></i>
        添加
      </button>
      <button
        class="hw-red-btn"
        (click)="deleteBtnClick()"
        [disabled]="!enableDelBtn"
      >
        <i class="howell-icon-delete-bin"></i>
        删除
      </button>
      <button
        class="hw-blue-btn"
        (click)="editBtnClick()"
        [disabled]="!enableEditBtn"
      >
        <i class="howell-icon-move2"></i>
        编辑
      </button>
    </div>
    <div class="tree-container">
      <howell-division-tree
        [business]="treeBusiness"
        [showStation]="showStation"
        [selectStrategy]="selectStrategy"
        [defaultIds]="defaultIds"
        [(holdStatus)]="holdStatus"
        (selectTreeNode)="selectTreeNode($event)"
      ></howell-division-tree>
    </div>
  </div>
  <!-- right -->
  <div class="horizontal-right" style="padding-right: 0">
    <div class="hw-simple-title">{{ title }}</div>

    <form class="hw-form bold-scrollbar" [formGroup]="myForm">
      <div class="hw-form-group">
        <div class="title">
          <span class="hw-form-label"> 区划ID </span>
          <span class="hw-form-icon" *ngIf="state == FormState.add">*</span>
        </div>
        <div class="content">
          <input
            type="text"
            class="hw-form-control hw-form-input"
            formControlName="Id"
            [placeholder]="addPlaceHolder"
          />
        </div>
      </div>

      <div class="hw-form-group">
        <div class="title">
          <span class="hw-form-label"> 区划名称 </span>
          <span class="hw-form-icon" *ngIf="state == FormState.add">*</span>
        </div>
        <div class="content">
          <input
            type="text"
            class="hw-form-control hw-form-input"
            formControlName="Name"
          />
        </div>
      </div>

      <div class="hw-form-group">
        <div class="title">
          <span class="hw-form-label"> 上级区划名称 </span>
        </div>
        <div class="content">
          <input
            type="text"
            class="hw-form-control hw-form-input"
            formControlName="ParentName"
          />
        </div>
      </div>
      <div class="hw-form-group">
        <div class="title">
          <span class="hw-form-label"> 区划描述 </span>
        </div>
        <div class="content">
          <textarea
            class="hw-form-control hw-form-textarea"
            formControlName="Description"
          ></textarea>
        </div>
      </div>

      <div
        class="hw-form-group"
        [style.display]="state == FormState.none ? 'none' : ''"
      >
        <div class="hw-middle-btn-group">
          <button class="hw-green-m-btn" type="button" (click)="onSubmit()">
            <i class="howell-icon-Check"></i>
          </button>
          <!--
            type不能为reset,否则先调用 本类的onReset()，然后调用 FormGroupDirective内部 reset()
          -->
          <button class="hw-gray-m-btn" type="button" (click)="onReset()">
            <i class="howell-icon-Close"></i>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
