<div class="collection-map-route">
  <div class="collection-map-route-content">
    <iframe #iframe [src]="src" (load)="onIframeLoad($event)" class=""></iframe>
  </div>

  <div class="panel collection-map-route-query">
    <collection-map-route-query
      (select)="onselect($event)"
      [selected]="model"
      [(date)]="date"
    >
    </collection-map-route-query>
  </div>
  <div
    class="panel collection-map-route-video"
    *ngIf="display.info || display.video"
  >
    <collection-map-route-video
      *ngIf="!!model"
      [source]="model"
      [begin]="duration?.begin"
      [end]="duration?.end"
      [play]="play"
      [pause]="pause"
      (close)="onvideoclose()"
      (opened)="onvideoopened()"
    >
    </collection-map-route-video>
  </div>
  <div class="collection-map-route-operation" *ngIf="display.operation">
    <div class="vehicle" (click)="onvehicleclick()">
      <i class="howell-icon-dustcart"></i>
    </div>
    <div (click)="onvideoclick()">
      <i class="howell-icon-video"></i>
    </div>
  </div>
  <div class="panel collection-map-route-controls" *ngIf="!!model">
    <collection-map-route-control
      [sourceId]="model.Id"
      [date]="date"
      (loaded)="onloaded($event)"
      (scoreclick)="onscore($event)"
      (routetrigger)="onroute($event)"
      (routeclick)="onrouteclick($event)"
    >
    </collection-map-route-control>
  </div>
</div>
